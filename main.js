(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}var r={baseURL:"https://nomoreparties.co/v1/wff-cohort-7",headers:{authorization:"37c27805-4486-40c8-98d8-f35c7d710efc","Content-type":"application/json"}},o=document.querySelector("#card-template").content,c=document.querySelector(".popup_type_delete"),a=c.querySelector(".popup__button");function u(e,t,n,r,c){var a=o.querySelector(".card").cloneNode(!0),u=a.querySelector(".card__image");u.src=e.link,u.alt="Фотография ".concat(e.name),u.addEventListener("click",n),a.querySelector(".card__title").textContent=e.name;var i=a.querySelector(".card__like-button"),l=a.querySelector(".card__likes-count");s(l,e.likes.length),i.addEventListener("click",(function(t){r(t,e._id,l)})),e.likes.find((function(e){return e._id===t}))&&i.classList.add("card__like-button_is-active");var d=a.querySelector(".card__delete-button");return e.owner._id!==t?d.style.display="none":d.addEventListener("click",(function(){return c(e._id,a)})),a}function i(e,t,n){e.target.classList.contains("card__like-button_is-active")?function(e){return fetch("".concat(r.baseURL,"/cards/likes/").concat(e),{method:"DELETE",headers:r.headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при дизлайке карточки: ".concat(e.status))})).catch((function(e){return console.log(e)}))}(t).then((function(t){s(n,t.likes.length),e.target.classList.remove("card__like-button_is-active")})):function(e){return fetch("".concat(r.baseURL,"/cards/likes/").concat(e),{method:"PUT",headers:r.headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при лайке карточки: ".concat(e.status))})).catch((function(e){return console.log(e)}))}(t).then((function(t){s(n,t.likes.length),e.target.classList.add("card__like-button_is-active")}))}function s(e,t){e.textContent=t}function l(n,o){e(c),a.addEventListener("click",(function e(){(function(e){return fetch("".concat(r.baseURL,"/cards/").concat(e),{method:"DELETE",headers:r.headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при удалении карточки пользователя: ".concat(e.status))})).catch((function(e){return console.log(e)}))})(n).then((function(){t(c),o.remove(),a.removeEventListener("click",e)})).catch((function(e){return console.log(e)}))}))}var d,f={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_is-inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_is-active"};function p(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(f.inputErrorClass),n.classList.remove(f.errorClass),n.textContent=""}function m(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.remove(f.inactiveButtonClass):t.classList.add(f.inactiveButtonClass)}function _(e){var t=Array.from(e.querySelectorAll(f.inputSelector)),n=e.querySelector(f.submitButtonSelector);m(t,n),t.forEach((function(r){r.addEventListener("input",(function(){(function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?p(e,t):function(e,t,n){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(f.inputErrorClass),r.textContent=n,r.classList.add(f.errorClass)}(e,t,t.validationMessage)})(e,r),m(t,n)}))}))}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v,h,S=document.querySelector(".places__list"),b=document.querySelectorAll(".popup"),L=document.querySelector(".popup_type_edit"),g=document.querySelector(".popup_type_avatar"),k=document.querySelector(".profile__edit-button"),q=document.querySelector(".popup_type_new-card"),E=document.querySelector(".profile__add-button"),C=document.querySelector(".popup_type_image"),j=C.querySelector(".popup__image"),A=C.querySelector(".popup__caption"),P=document.querySelector(".profile__title"),x=document.querySelector(".profile__description"),w=document.querySelector(".profile__image"),U=document.forms["edit-profile"],R=U.elements.name,B=U.elements.description,O=document.forms["edit-avatar"],T=O.elements.link,D=document.forms["new-place"],I=D.elements["place-name"],M=D.elements.link;function N(e,t){t.textContent=e?"Сохранение...":"Сохранить"}function J(e){P.textContent=e.name,x.textContent=e.about,w.style.backgroundImage="url(".concat(e.avatar,")")}function H(t){var n=t.target,r=n.closest(".card").querySelector(".card__title");e(C),j.src=n.src,j.alt=n.alt,A.textContent=r.textContent}k.addEventListener("click",(function(){var t,n;t=P.textContent,n=x.textContent,R.value=t,B.value=n,function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector));m(n,e.querySelector(t.submitButtonSelector)),n.forEach((function(t){return p(e,t)}))}(U,f),e(L)})),w.addEventListener("click",(function(){return e(g)})),U.addEventListener("submit",(function(e){e.preventDefault();var n,o=U.querySelector(".popup__button"),c={name:R.value,about:B.value};N(!0,o),(n=c,fetch("".concat(r.baseURL,"/users/me"),{method:"PATCH",headers:r.headers,body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при обновлении информации о пользователе: ".concat(e.status))})).catch((function(e){return console.log(e)}))).then((function(e){J(e),t(L)})).catch((function(e){return console.log(e)})).finally((function(){return N(!1,o)}))})),O.addEventListener("submit",(function(e){e.preventDefault();var n,o=O.querySelector(".popup__button");N(!0,o),(n=T.value,fetch("".concat(r.baseURL,"/users/me/avatar"),{method:"PATCH",headers:r.headers,body:JSON.stringify({avatar:n})}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при обновлении аватарки пользователя: ".concat(e.status))})).catch((function(e){return console.log(e)}))).then((function(e){J(e),t(g),O.reset()})).catch((function(e){return console.log(e)})).finally((function(){return N(!1,o)}))})),E.addEventListener("click",(function(){return e(q)})),D.addEventListener("submit",(function(e){e.preventDefault();var n,o=D.querySelector(".popup__button"),c={name:I.value,link:M.value};N(!0,o),(n=c,fetch("".concat(r.baseURL,"/cards"),{method:"POST",headers:r.headers,body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при добавлении новой карточки: ".concat(e.status))})).catch((function(e){return console.log(e)}))).then((function(e){S.prepend(u(e,d,H,i,l)),D.reset(),t(q),D.querySelector(f.submitButtonSelector).classList.add(f.inactiveButtonClass)})).catch((function(e){return console.log(e)})).finally((function(){return N(!1,o)}))})),b.forEach((function(e){e.addEventListener("mousedown",(function(n){n.target.classList.contains("popup__close")&&t(e),n.target.classList.contains("popup_is-opened")&&t(e)}))})),v=fetch("".concat(r.baseURL,"/users/me"),{headers:r.headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при запросе информации о пользователе: ".concat(e.status))})).catch((function(e){return console.log(e)})),h=fetch("".concat(r.baseURL,"/cards"),{headers:r.headers}).then((function(e){return e.ok?e.json():Promise.reject("Произошла ошибка при запросе списка карточек: ".concat(e.status))})).catch((function(e){return console.log(e)})),Promise.all([v,h]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,a,u=[],i=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=c.call(n)).done)&&(u.push(r.value),u.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],c=r[1];d=o._id,J(o),function(e){e.forEach((function(e){S.append(u(e,d,H,i,l))}))}(c)})).catch((function(e){return console.log(e)})),function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),_(e)}))}(f)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXpELElBQ0NDLE9BQU0sU0FBQ0MsR0FBRyxPQUFLQyxRQUFRQyxJQUFJRixFQUFJLElHOENsQ0osUUFBUStGLElBQUksQ0FBQ25ELEVBQW9CQyxJQUM5QmpELE1BQUssU0FBQW9HLEdBQTZCLEksSUFBQUMsRyxFQUFBLEUsNENBQUFELEksbzJCQUEzQnZCLEVBQVd3QixFQUFBLEdBQUVDLEVBQVFELEVBQUEsR0FDM0JyRixFQUFnQjZELEVBQVkzRixJQUM1QjBGLEVBQWtCQyxHQWxCeEIsU0FBd0J5QixHQUN0QkEsRUFBUzlELFNBQVEsU0FBQ3pFLEdBQ2hCbUYsRUFBbUJxRCxPQUNqQnpJLEVBQ0VDLEVBQ0FpRCxFQUNBaUUsRUFDQXhGLEVBQ0FvQixHQUdOLEdBQ0YsQ0FPTTJGLENBQWVGLEVBQ2pCLElBQ0MvRixPQUFNLFNBQUNDLEdBQUcsT0FBS0MsUUFBUUMsSUFBSUYsRUFBSSxJRHJCN0IsU0FBMEJTLEdBQ2RvQixNQUFNQyxLQUNyQnpGLFNBQVMwRixpQkFBaUJ0QixFQUFpQkMsZUFFcENzQixTQUFRLFNBQUNmLEdBQ2hCQSxFQUFZM0UsaUJBQWlCLFVBQVUsU0FBQ0ssR0FDdENBLEVBQUlvSSxnQkFDTixJQUNBbkQsRUFBa0JYLEVBQ3BCLEdBQ0YsQ0N3SEFnRixDQUFpQnhGLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL3NjcmlwdHMvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9zY3JpcHRzL2FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL3NjcmlwdHMvY2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBvcGVuTW9kYWwocG9wdXBFbGVtZW50KSB7XHJcbiAgcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9pcy1vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VQb3B1cE9uRXNjS2V5ZG93bik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZU1vZGFsKHBvcHVwRWxlbWVudCkge1xyXG4gIHBvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfaXMtb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlUG9wdXBPbkVzY0tleWRvd24pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZVBvcHVwT25Fc2NLZXlkb3duKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBvcGVuZWRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfaXMtb3BlbmVkXCIpO1xyXG4gICAgY2xvc2VNb2RhbChvcGVuZWRQb3B1cCk7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IGFwaUNvbmZpZyA9IHtcclxuICBiYXNlVVJMOiBcImh0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS93ZmYtY29ob3J0LTdcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjM3YzI3ODA1LTQ0ODYtNDBjOC05OGQ4LWYzNWM3ZDcxMGVmY1wiLFxyXG4gICAgXCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZSgpIHtcclxuICByZXR1cm4gZmV0Y2goYCR7YXBpQ29uZmlnLmJhc2VVUkx9L3VzZXJzL21lYCwge1xyXG4gICAgaGVhZGVyczogYXBpQ29uZmlnLmhlYWRlcnMsXHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcclxuICAgICAgICBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0LfQsNC/0YDQvtGB0LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1OiAke3Jlcy5zdGF0dXN9YFxyXG4gICAgICApO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRMaXN0KCkge1xyXG4gIHJldHVybiBmZXRjaChgJHthcGlDb25maWcuYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICBoZWFkZXJzOiBhcGlDb25maWcuaGVhZGVycyxcclxuICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICAgIGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQt9Cw0L/RgNC+0YHQtSDRgdC/0LjRgdC60LAg0LrQsNGA0YLQvtGH0LXQujogJHtyZXMuc3RhdHVzfWBcclxuICAgICAgKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXRjaFVzZXJQcm9maWxlKHByb2ZpbGVEYXRhKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke2FwaUNvbmZpZy5iYXNlVVJMfS91c2Vycy9tZWAsIHtcclxuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgaGVhZGVyczogYXBpQ29uZmlnLmhlYWRlcnMsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9maWxlRGF0YSksXHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcclxuICAgICAgICBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdC90L7QstC70LXQvdC40Lgg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1OiAke3Jlcy5zdGF0dXN9YFxyXG4gICAgICApO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufVxyXG5cclxuLyog0J7Qv9GG0LjQvtC90LDQu9GM0L3QsNGPINC/0YDQvtCy0LXRgNC60LAsINGH0YLQviDRjtC30LXRgCDRg9C60LDQt9Cw0Lsg0YHRgdGL0LvQutGDINC90LAg0LrQsNGA0YLQuNC90LrRgyDQv9GA0Lgg0LLRi9Cx0L7RgNC1INCw0LLQsNGC0LDRgNC60Lgg0L/QvtC60LAg0L3QtSDRgNC10LDQu9C40LfQvtCy0LDQvdCwIC1cclxu0L3QtdC60L7RgtC+0YDRi9C1INGA0LXRgdGD0YDRgdGLINCx0LvQvtC60LjRgNGD0Y7RgiDQt9Cw0L/RgNC+0YEg0LjQty3Qt9CwINC90LDRgdGC0YDQvtC10LogQ09SQywg0L/QvtC60LAg0L3QtSDQv9GA0LjQtNGD0LzQsNC7INC60LDQuiDRjdGC0L4g0L/QvtC/0YDQsNCy0LjRgtGMKi9cclxuXHJcbi8qIGV4cG9ydCBmdW5jdGlvbiBpc0ltYWdlVVJMKFVSTCkge1xyXG4gIGxldCBpc0ltYWdlO1xyXG4gIHJldHVybiBmZXRjaChVUkwsIHtcclxuICAgIG1ldGhvZDogXCJIRUFEXCIsXHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgY29uc29sZS5sb2cocmVzLmhlYWRlcnMuZ2V0KFwiQ29udGVudC10eXBlXCIpKTtcclxuICAgICAgaXNJbWFnZSA9IHJlcy5oZWFkZXJzLmdldChcIkNvbnRlbnQtdHlwZVwiKS5pbmNsdWRlcyhcImltYWdlXCIpO1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGlzSW1hZ2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufSAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoVXNlckF2YXRhcihhdmF0YXJVUkwpIHtcclxuICByZXR1cm4gZmV0Y2goYCR7YXBpQ29uZmlnLmJhc2VVUkx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgaGVhZGVyczogYXBpQ29uZmlnLmhlYWRlcnMsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIGF2YXRhcjogYXZhdGFyVVJMLFxyXG4gICAgfSksXHJcbiAgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcclxuICAgICAgICBg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdC90L7QstC70LXQvdC40Lgg0LDQstCw0YLQsNGA0LrQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86ICR7cmVzLnN0YXR1c31gXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9zdE5ld0NhcmQoY2FyZCkge1xyXG4gIHJldHVybiBmZXRjaChgJHthcGlDb25maWcuYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgaGVhZGVyczogYXBpQ29uZmlnLmhlYWRlcnMsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkKSxcclxuICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICAgIGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lg6ICR7cmVzLnN0YXR1c31gXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICByZXR1cm4gZmV0Y2goYCR7YXBpQ29uZmlnLmJhc2VVUkx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIGhlYWRlcnM6IGFwaUNvbmZpZy5oZWFkZXJzLFxyXG4gIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXHJcbiAgICAgICAgYNCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y86ICR7cmVzLnN0YXR1c31gXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHV0Q2FyZExpa2UoY2FyZElkKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke2FwaUNvbmZpZy5iYXNlVVJMfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICBoZWFkZXJzOiBhcGlDb25maWcuaGVhZGVycyxcclxuICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICAgIGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQu9Cw0LnQutC1INC60LDRgNGC0L7Rh9C60Lg6ICR7cmVzLnN0YXR1c31gXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ2FyZExpa2UoY2FyZElkKSB7XHJcbiAgcmV0dXJuIGZldGNoKGAke2FwaUNvbmZpZy5iYXNlVVJMfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICBoZWFkZXJzOiBhcGlDb25maWcuaGVhZGVycyxcclxuICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICAgIGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQtNC40LfQu9Cw0LnQutC1INC60LDRgNGC0L7Rh9C60Lg6ICR7cmVzLnN0YXR1c31gXHJcbiAgICAgICk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcbiIsImltcG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCB9IGZyb20gXCIuL21vZGFsLmpzXCI7XHJcbmltcG9ydCB7IGRlbGV0ZUNhcmQsIHB1dENhcmRMaWtlLCBkZWxldGVDYXJkTGlrZSB9IGZyb20gXCIuL2FwaS5qc1wiO1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XHJcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9kZWxldGVcIik7XHJcbmNvbnN0IGNvbmZpcm1DYXJkRGVsZXRlQnV0dG9uID0gZGVsZXRlQ2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYXJkKFxyXG4gIGNhcmQsXHJcbiAgdXNlcklkLFxyXG4gIGltYWdlQ2xpY2tIYW5kbGVyLFxyXG4gIGxpa2VCdXR0b25DbGlja0hhbmRsZXIsXHJcbiAgZGVsZXRlQnV0dG9uQ2xpY2tIYW5kbGVyXHJcbikge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY2FyZEltYWdlLnNyYyA9IGNhcmQubGluaztcclxuICBjYXJkSW1hZ2UuYWx0ID0gYNCk0L7RgtC+0LPRgNCw0YTQuNGPICR7Y2FyZC5uYW1lfWA7XHJcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBpbWFnZUNsaWNrSGFuZGxlcik7XHJcblxyXG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gY2FyZC5uYW1lO1xyXG5cclxuICBjb25zdCBsaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICBjb25zdCBsaWtlc0NvdW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlcy1jb3VudFwiKTtcclxuICByZW5kZXJMaWtlc0NvdW50KGxpa2VzQ291bnQsIGNhcmQubGlrZXMubGVuZ3RoKTtcclxuICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICBsaWtlQnV0dG9uQ2xpY2tIYW5kbGVyKGV2dCwgY2FyZC5faWQsIGxpa2VzQ291bnQpO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoY2FyZC5saWtlcy5maW5kKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdXNlcklkKSkge1xyXG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xyXG4gIGlmIChjYXJkLm93bmVyLl9pZCAhPT0gdXNlcklkKSB7XHJcbiAgICBkZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbkNsaWNrSGFuZGxlcihjYXJkLl9pZCwgY2FyZEVsZW1lbnQpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTGlrZUJ1dHRvbkNsaWNrKGV2dCwgY2FyZElkLCBsaWtlc0NvdW50RWxlbWVudCkge1xyXG4gIGlmIChpc0NhcmRMaWtlZChldnQudGFyZ2V0KSkge1xyXG4gICAgZGVsZXRlQ2FyZExpa2UoY2FyZElkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmVuZGVyTGlrZXNDb3VudChsaWtlc0NvdW50RWxlbWVudCwgcmVzLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwdXRDYXJkTGlrZShjYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZW5kZXJMaWtlc0NvdW50KGxpa2VzQ291bnRFbGVtZW50LCByZXMubGlrZXMubGVuZ3RoKTtcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0NhcmRMaWtlZChidXR0b25FbGVtZW50KSB7XHJcbiAgaWYgKGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25faXMtYWN0aXZlXCIpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTGlrZXNDb3VudChsaWtlc0NvdW50RWxlbWVudCwgbGlrZXNDb3VudCkge1xyXG4gIGxpa2VzQ291bnRFbGVtZW50LnRleHRDb250ZW50ID0gbGlrZXNDb3VudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrKGNhcmRJZCwgY2FyZEVsZW1lbnQpIHtcclxuICBvcGVuTW9kYWwoZGVsZXRlQ2FyZFBvcHVwKTtcclxuICBjb25maXJtQ2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrKTtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrKCkge1xyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjbG9zZU1vZGFsKGRlbGV0ZUNhcmRQb3B1cCk7XHJcbiAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgY29uZmlybUNhcmREZWxldGVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAgIGhhbmRsZUNvbmZpcm1CdXR0b25DbGlja1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2lzLWluYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3JfaXMtYWN0aXZlXCIsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSB7XHJcbiAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gpIHtcclxuICAgIGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShpbnB1dEVsZW1lbnQuZGF0YXNldC5lcnJvck1lc3NhZ2UpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XHJcbiAgfVxyXG5cclxuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcclxuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KSB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgKTtcclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG5cclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpIHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKVxyXG4gICk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJWYWxpZGF0aW9uKGZvcm1FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKSB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgKTtcclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KVxyXG4gICk7XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtcclxuICBjcmVhdGVDYXJkLFxyXG4gIGhhbmRsZUxpa2VCdXR0b25DbGljayxcclxuICBoYW5kbGVEZWxldGVCdXR0b25DbGljayxcclxufSBmcm9tIFwiLi9zY3JpcHRzL2NhcmQuanNcIjtcclxuaW1wb3J0IHsgb3Blbk1vZGFsLCBjbG9zZU1vZGFsIH0gZnJvbSBcIi4vc2NyaXB0cy9tb2RhbC5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGVuYWJsZVZhbGlkYXRpb24sXHJcbiAgY2xlYXJWYWxpZGF0aW9uLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbn0gZnJvbSBcIi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2V0VXNlclByb2ZpbGUsXHJcbiAgZ2V0Q2FyZExpc3QsXHJcbiAgcGF0Y2hVc2VyUHJvZmlsZSxcclxuICBwb3N0TmV3Q2FyZCxcclxuICBwYXRjaFVzZXJBdmF0YXIsXHJcbiAgaXNJbWFnZVVSTCxcclxufSBmcm9tIFwiLi9zY3JpcHRzL2FwaS5qc1wiO1xyXG5cclxubGV0IGN1cnJlbnRVc2VySWQ7XHJcblxyXG5jb25zdCBjYXJkc0xpc3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fbGlzdFwiKTtcclxuY29uc3QgcG9wdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckVkaXRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hdmF0YXJcIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGNhcmRBZGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9uZXctY2FyZFwiKTtcclxuY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2VcIik7XHJcbmNvbnN0IGltYWdlUG9wdXBQaG90byA9IGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbmNvbnN0IGltYWdlUG9wdXBQaG90b0NhcHRpb24gPSBpbWFnZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcblxyXG5jb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LXByb2ZpbGVcIl07XHJcbmNvbnN0IHByb2ZpbGVFZGl0TmFtZUlucHV0ID0gcHJvZmlsZUVkaXRGb3JtLmVsZW1lbnRzLm5hbWU7XHJcbmNvbnN0IHByb2ZpbGVFZGl0RGVzY0lucHV0ID0gcHJvZmlsZUVkaXRGb3JtLmVsZW1lbnRzLmRlc2NyaXB0aW9uO1xyXG5cclxuY29uc3QgcHJvZmlsZUF2YXRhckVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LWF2YXRhclwiXTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckxpbmsgPSBwcm9maWxlQXZhdGFyRWRpdEZvcm0uZWxlbWVudHMubGluaztcclxuXHJcbmNvbnN0IGNhcmRBZGRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJuZXctcGxhY2VcIl07XHJcbmNvbnN0IG5ld0NhcmROYW1lSW5wdXQgPSBjYXJkQWRkRm9ybS5lbGVtZW50c1tcInBsYWNlLW5hbWVcIl07XHJcbmNvbnN0IG5ld0NhcmRMaW5rSW5wdXQgPSBjYXJkQWRkRm9ybS5lbGVtZW50c1tcImxpbmtcIl07XHJcblxyXG5mdW5jdGlvbiByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgYnV0dG9uRWxlbWVudCkge1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVXNlclByb2ZpbGUocHJvZmlsZURhdGEpIHtcclxuICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBwcm9maWxlRGF0YS5uYW1lO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2ZpbGVEYXRhLmFib3V0O1xyXG4gIHByb2ZpbGVJbWFnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7cHJvZmlsZURhdGEuYXZhdGFyfSlgO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkTGlzdChjYXJkTGlzdCkge1xyXG4gIGNhcmRMaXN0LmZvckVhY2goKGNhcmQpID0+IHtcclxuICAgIGNhcmRzTGlzdENvbnRhaW5lci5hcHBlbmQoXHJcbiAgICAgIGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgY2FyZCxcclxuICAgICAgICBjdXJyZW50VXNlcklkLFxyXG4gICAgICAgIGhhbmRsZUNhcmRJbWFnZUNsaWNrLFxyXG4gICAgICAgIGhhbmRsZUxpa2VCdXR0b25DbGljayxcclxuICAgICAgICBoYW5kbGVEZWxldGVCdXR0b25DbGlja1xyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0QXBwKHByb2ZpbGVEYXRhUHJvbWlzZSwgY2FyZExpc3RQcm9taXNlKSB7XHJcbiAgUHJvbWlzZS5hbGwoW3Byb2ZpbGVEYXRhUHJvbWlzZSwgY2FyZExpc3RQcm9taXNlXSlcclxuICAgIC50aGVuKChbcHJvZmlsZURhdGEsIGNhcmRMaXN0XSkgPT4ge1xyXG4gICAgICBjdXJyZW50VXNlcklkID0gcHJvZmlsZURhdGEuX2lkO1xyXG4gICAgICByZW5kZXJVc2VyUHJvZmlsZShwcm9maWxlRGF0YSk7XHJcbiAgICAgIHJlbmRlckNhcmRMaXN0KGNhcmRMaXN0KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmVQcm9maWxlRWRpdEZvcm0odGl0bGUsIGRlc2NyaXB0aW9uKSB7XHJcbiAgcHJvZmlsZUVkaXROYW1lSW5wdXQudmFsdWUgPSB0aXRsZTtcclxuICBwcm9maWxlRWRpdERlc2NJbnB1dC52YWx1ZSA9IGRlc2NyaXB0aW9uO1xyXG4gIGNsZWFyVmFsaWRhdGlvbihwcm9maWxlRWRpdEZvcm0sIHZhbGlkYXRpb25Db25maWcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdEZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uRWxlbWVudCA9IHByb2ZpbGVFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgY29uc3QgbmV3UHJvZmlsZURhdGEgPSB7XHJcbiAgICBuYW1lOiBwcm9maWxlRWRpdE5hbWVJbnB1dC52YWx1ZSxcclxuICAgIGFib3V0OiBwcm9maWxlRWRpdERlc2NJbnB1dC52YWx1ZSxcclxuICB9O1xyXG4gIHJlbmRlckxvYWRpbmcodHJ1ZSwgc3VibWl0QnV0dG9uRWxlbWVudCk7XHJcbiAgcGF0Y2hVc2VyUHJvZmlsZShuZXdQcm9maWxlRGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmVuZGVyVXNlclByb2ZpbGUocmVzKTtcclxuICAgICAgY2xvc2VNb2RhbChwcm9maWxlRWRpdFBvcHVwKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHJlbmRlckxvYWRpbmcoZmFsc2UsIHN1Ym1pdEJ1dHRvbkVsZW1lbnQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZEFkZEZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uRWxlbWVudCA9IGNhcmRBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcclxuICBjb25zdCBuZXdDYXJkID0ge1xyXG4gICAgbmFtZTogbmV3Q2FyZE5hbWVJbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IG5ld0NhcmRMaW5rSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuICByZW5kZXJMb2FkaW5nKHRydWUsIHN1Ym1pdEJ1dHRvbkVsZW1lbnQpO1xyXG4gIHBvc3ROZXdDYXJkKG5ld0NhcmQpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNhcmRzTGlzdENvbnRhaW5lci5wcmVwZW5kKFxyXG4gICAgICAgIGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICByZXMsXHJcbiAgICAgICAgICBjdXJyZW50VXNlcklkLFxyXG4gICAgICAgICAgaGFuZGxlQ2FyZEltYWdlQ2xpY2ssXHJcbiAgICAgICAgICBoYW5kbGVMaWtlQnV0dG9uQ2xpY2ssXHJcbiAgICAgICAgICBoYW5kbGVEZWxldGVCdXR0b25DbGlja1xyXG4gICAgICAgIClcclxuICAgICAgKTtcclxuICAgICAgY2FyZEFkZEZvcm0ucmVzZXQoKTtcclxuICAgICAgY2xvc2VNb2RhbChjYXJkQWRkUG9wdXApO1xyXG4gICAgICBjYXJkQWRkRm9ybVxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQodmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHJlbmRlckxvYWRpbmcoZmFsc2UsIHN1Ym1pdEJ1dHRvbkVsZW1lbnQpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyQ2hhbmdlRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBzdWJtaXRCdXR0b25FbGVtZW50ID1cclxuICAgIHByb2ZpbGVBdmF0YXJFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XHJcbiAgcmVuZGVyTG9hZGluZyh0cnVlLCBzdWJtaXRCdXR0b25FbGVtZW50KTtcclxuICBwYXRjaFVzZXJBdmF0YXIocHJvZmlsZUF2YXRhckxpbmsudmFsdWUpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJlbmRlclVzZXJQcm9maWxlKHJlcyk7XHJcbiAgICAgIGNsb3NlTW9kYWwocHJvZmlsZUF2YXRhckVkaXRQb3B1cCk7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJFZGl0Rm9ybS5yZXNldCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gcmVuZGVyTG9hZGluZyhmYWxzZSwgc3VibWl0QnV0dG9uRWxlbWVudCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkSW1hZ2VDbGljayhldnQpIHtcclxuICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xyXG4gIGNvbnN0IGNhcmQgPSB0YXJnZXQuY2xvc2VzdChcIi5jYXJkXCIpO1xyXG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICBvcGVuTW9kYWwoaW1hZ2VQb3B1cCk7XHJcbiAgaW1hZ2VQb3B1cFBob3RvLnNyYyA9IHRhcmdldC5zcmM7XHJcbiAgaW1hZ2VQb3B1cFBob3RvLmFsdCA9IHRhcmdldC5hbHQ7XHJcbiAgaW1hZ2VQb3B1cFBob3RvQ2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcmRUaXRsZS50ZXh0Q29udGVudDtcclxufVxyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcmVwYXJlUHJvZmlsZUVkaXRGb3JtKFxyXG4gICAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50LFxyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50XHJcbiAgKTtcclxuICBvcGVuTW9kYWwocHJvZmlsZUVkaXRQb3B1cCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuTW9kYWwocHJvZmlsZUF2YXRhckVkaXRQb3B1cCkpO1xyXG5wcm9maWxlRWRpdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRWRpdEZvcm1TdWJtaXQpO1xyXG5wcm9maWxlQXZhdGFyRWRpdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJDaGFuZ2VGb3JtU3VibWl0KTtcclxuXHJcbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5Nb2RhbChjYXJkQWRkUG9wdXApKTtcclxuY2FyZEFkZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVDYXJkQWRkRm9ybVN1Ym1pdCk7XHJcblxyXG5wb3B1cHMuZm9yRWFjaCgocG9wdXApID0+IHtcclxuICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKSkge1xyXG4gICAgICBjbG9zZU1vZGFsKHBvcHVwKTtcclxuICAgIH1cclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX2lzLW9wZW5lZFwiKSkge1xyXG4gICAgICBjbG9zZU1vZGFsKHBvcHVwKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5jb25zdCB1c2VyUHJvZmlsZSA9IGdldFVzZXJQcm9maWxlKCk7XHJcbmNvbnN0IGNhcmRMaXN0ID0gZ2V0Q2FyZExpc3QoKTtcclxuaW5pdEFwcCh1c2VyUHJvZmlsZSwgY2FyZExpc3QpO1xyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xyXG5cclxuLyogaXNJbWFnZVVSTChcclxuICBcImh0dHBzOi8vb3Bpcy1jZG4udGlua29mZmpvdXJuYWwucnUvbWVyY3VyeS9pcy1naWdhY2hhZC1yZWFsLTA0LnFpd2NpYnQ1bDFlbi4uanBnXCJcclxuKTsqL1xyXG4vKiBpc0ltYWdlVVJMKFxyXG4gIFwiaHR0cHM6Ly9lbmNyeXB0ZWQtdGJuMC5nc3RhdGljLmNvbS9pbWFnZXM/cT10Ym46QU5kOUdjU3ZwRGhYeUxHSlV5V0FMZDVLUmdLeS1qcnJITWdwMEl3SVBxaEJCY2I2elEmc1wiXHJcbikudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhyZXMpKTsgKi9cclxuIl0sIm5hbWVzIjpbIm9wZW5Nb2RhbCIsInBvcHVwRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlUG9wdXBPbkVzY0tleWRvd24iLCJjbG9zZU1vZGFsIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInF1ZXJ5U2VsZWN0b3IiLCJhcGlDb25maWciLCJiYXNlVVJMIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiZGVsZXRlQ2FyZFBvcHVwIiwiY29uZmlybUNhcmREZWxldGVCdXR0b24iLCJjcmVhdGVDYXJkIiwiY2FyZCIsInVzZXJJZCIsImltYWdlQ2xpY2tIYW5kbGVyIiwibGlrZUJ1dHRvbkNsaWNrSGFuZGxlciIsImRlbGV0ZUJ1dHRvbkNsaWNrSGFuZGxlciIsImNhcmRFbGVtZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwic3JjIiwibGluayIsImFsdCIsImNvbmNhdCIsIm5hbWUiLCJ0ZXh0Q29udGVudCIsImxpa2VCdXR0b24iLCJsaWtlc0NvdW50IiwicmVuZGVyTGlrZXNDb3VudCIsImxpa2VzIiwibGVuZ3RoIiwiX2lkIiwiZmluZCIsImxpa2UiLCJkZWxldGVCdXR0b24iLCJvd25lciIsInN0eWxlIiwiZGlzcGxheSIsImhhbmRsZUxpa2VCdXR0b25DbGljayIsImNhcmRJZCIsImxpa2VzQ291bnRFbGVtZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlQ2FyZExpa2UiLCJwdXRDYXJkTGlrZSIsImhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrIiwiaGFuZGxlQ29uZmlybUJ1dHRvbkNsaWNrIiwiZGVsZXRlQ2FyZCIsImN1cnJlbnRVc2VySWQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsInNldEV2ZW50TGlzdGVuZXJzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJwYXR0ZXJuTWlzbWF0Y2giLCJzZXRDdXN0b21WYWxpZGl0eSIsImRhdGFzZXQiLCJlcnJvck1lc3NhZ2UiLCJzaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2hlY2tJbnB1dFZhbGlkaXR5IiwicHJvZmlsZURhdGFQcm9taXNlIiwiY2FyZExpc3RQcm9taXNlIiwiY2FyZHNMaXN0Q29udGFpbmVyIiwicG9wdXBzIiwicHJvZmlsZUVkaXRQb3B1cCIsInByb2ZpbGVBdmF0YXJFZGl0UG9wdXAiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImNhcmRBZGRQb3B1cCIsImNhcmRBZGRCdXR0b24iLCJpbWFnZVBvcHVwIiwiaW1hZ2VQb3B1cFBob3RvIiwiaW1hZ2VQb3B1cFBob3RvQ2FwdGlvbiIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVJbWFnZSIsInByb2ZpbGVFZGl0Rm9ybSIsImZvcm1zIiwicHJvZmlsZUVkaXROYW1lSW5wdXQiLCJlbGVtZW50cyIsInByb2ZpbGVFZGl0RGVzY0lucHV0IiwiZGVzY3JpcHRpb24iLCJwcm9maWxlQXZhdGFyRWRpdEZvcm0iLCJwcm9maWxlQXZhdGFyTGluayIsImNhcmRBZGRGb3JtIiwibmV3Q2FyZE5hbWVJbnB1dCIsIm5ld0NhcmRMaW5rSW5wdXQiLCJyZW5kZXJMb2FkaW5nIiwiaXNMb2FkaW5nIiwicmVuZGVyVXNlclByb2ZpbGUiLCJwcm9maWxlRGF0YSIsImFib3V0IiwiYmFja2dyb3VuZEltYWdlIiwiYXZhdGFyIiwiaGFuZGxlQ2FyZEltYWdlQ2xpY2siLCJjYXJkVGl0bGUiLCJjbG9zZXN0IiwidGl0bGUiLCJ2YWx1ZSIsImNsZWFyVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uRWxlbWVudCIsIm5ld1Byb2ZpbGVEYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaW5hbGx5IiwiYXZhdGFyVVJMIiwicmVzZXQiLCJuZXdDYXJkIiwicHJlcGVuZCIsInBvcHVwIiwiYWxsIiwiX3JlZiIsIl9yZWYyIiwiY2FyZExpc3QiLCJhcHBlbmQiLCJyZW5kZXJDYXJkTGlzdCIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9